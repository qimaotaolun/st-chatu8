(function(_0x189970,_0x5068f2){function _0x5a8c0(_0x4f76e3,_0x40e0c3,_0x47a602,_0x3adf13){return _0x2222(_0x40e0c3- -0xc1,_0x4f76e3);}function _0x85d410(_0x3221e6,_0x17fcfd,_0x56677d,_0x2e656){return _0x2222(_0x3221e6-0x182,_0x56677d);}const _0x1bd9af=_0x189970();while(!![]){try{const _0x3cc775=-parseInt(_0x85d410(0x346,0x3a3,0x37b,0x341))/(-0x1045+0x191+-0x4e7*-0x3)+-parseInt(_0x85d410(0x302,0x38c,0x27d,0x28d))/(-0x22a7*-0x1+-0x3*0x9a5+-0x5b6)+parseInt(_0x5a8c0(0x2a,0x85,0x79,0x56))/(0x89*0x41+0x162+-0xb2*0x34)+parseInt(_0x85d410(0x255,0x2dd,0x287,0x1b7))/(0xc2a+-0x77b+0x5*-0xef)*(parseInt(_0x5a8c0(0x40,0xa7,0x142,0x9e))/(-0x14a2+0x624+0x2e7*0x5))+-parseInt(_0x5a8c0(-0xb2,-0x17,0x49,-0x50))/(-0x1698+0x14*-0x8b+0x217a)+parseInt(_0x85d410(0x212,0x206,0x292,0x27e))/(0x1765+0x24f3+0x3c51*-0x1)+parseInt(_0x85d410(0x215,0x1ce,0x16f,0x23c))/(-0xec*-0x1d+-0xf2a+-0xb8a);if(_0x3cc775===_0x5068f2)break;else _0x1bd9af['push'](_0x1bd9af['shift']());}catch(_0x27ccaa){_0x1bd9af['push'](_0x1bd9af['shift']());}}}(_0x1e62,0x351a5*0x3+-0x894d5+-0x1*-0x50b97));const _0x476c7e=(function(){const _0x644a1c={'pBzhF':function(_0x3fee98,_0xac30fa){return _0x3fee98(_0xac30fa);},'opYie':_0x859703(-0x1d5,-0x163,-0x123,-0xea),'UaDVp':_0x261fc7(0x263,0x2b1,0x335,0x2d3)};function _0x261fc7(_0x3742d6,_0xd08c97,_0x452fa0,_0x44a32a){return _0x2222(_0xd08c97-0x1ad,_0x452fa0);}let _0x1fd12c=!![];function _0x859703(_0x4172cc,_0x5c0330,_0x34287c,_0x2da947){return _0x2222(_0x5c0330- -0x2fb,_0x4172cc);}return function(_0x4f79e5,_0x5ef038){function _0x1f06f8(_0x14c913,_0x327207,_0xefcf36,_0x30fa2a){return _0x859703(_0x30fa2a,_0xefcf36-0x2da,_0xefcf36-0x101,_0x30fa2a-0x14b);}const _0x38ba17={'fmmix':function(_0x26751c,_0x351fbc){return _0x644a1c['pBzhF'](_0x26751c,_0x351fbc);},'DBZjJ':_0x644a1c[_0x8d3334(0x6b,-0x49,-0x16,0x1c)]};function _0x8d3334(_0x5d3d34,_0x5a896f,_0x3f449c,_0x563ddb){return _0x261fc7(_0x5d3d34-0x76,_0x3f449c- -0x2ab,_0x563ddb,_0x563ddb-0x17b);}if(_0x644a1c['UaDVp']!==_0x1f06f8(0x1e8,0x1d1,0x19b,0x170)){const _0x2491ee=_0x1fd12c?function(){function _0x1340bd(_0x345d7b,_0xf7d17c,_0x58752d,_0x3a61ec){return _0x1f06f8(_0x345d7b-0x118,_0xf7d17c-0x128,_0x3a61ec-0x8a,_0x58752d);}function _0x11074b(_0x22f660,_0x104493,_0x2969fd,_0xc36732){return _0x8d3334(_0x22f660-0x180,_0x104493-0x90,_0x22f660- -0x188,_0x104493);}if(_0x5ef038){if(_0x38ba17[_0x1340bd(0x254,0x21d,0x118,0x1a6)]===_0x11074b(-0xee,-0x89,-0xaa,-0x153)){const _0x4a70fd=_0x5ef038[_0x11074b(-0x152,-0x167,-0x104,-0x13c)](_0x4f79e5,arguments);return _0x5ef038=null,_0x4a70fd;}else{_0x38ba17[_0x11074b(-0x1f4,-0x194,-0x16a,-0x153)](_0x3fe023,_0x4fb65c);return;}}}:function(){};return _0x1fd12c=![],_0x2491ee;}else _0x38ba17[_0x8d3334(-0x28,-0x3b,-0x6c,0xd)](_0x18b558,_0x1f06f8(0x9a,0x11f,0x7e,0x4c)+'库');};}()),_0x59915d=_0x476c7e(this,function(){const _0x297993={};function _0x355499(_0x3120ca,_0x28cdcd,_0x4feaaf,_0x329054){return _0x2222(_0x3120ca-0x27f,_0x28cdcd);}_0x297993['gbqaE']=_0xba878c(-0x1d8,-0x2fc,-0x269,-0x201)+'+$';function _0xba878c(_0xd8e820,_0x40e044,_0x14f68e,_0x237456){return _0x2222(_0x14f68e- -0x352,_0x40e044);}const _0x13fdbb=_0x297993;return _0x59915d[_0x355499(0x447,0x3a8,0x4c4,0x3df)]()[_0x355499(0x437,0x487,0x450,0x3c5)](_0x13fdbb[_0xba878c(-0x330,-0x244,-0x28d,-0x272)])[_0x355499(0x447,0x453,0x3d3,0x443)]()['constructo'+'r'](_0x59915d)['search'](_0x13fdbb['gbqaE']);});_0x59915d();import{sleep,zhengmian,fumian,deepMerge,getSDMode,setSDMode,addLog,getRequestHeaders,clearLog,prompt_replace,getsdAuth,parsePromptStringWithCoordinates,prompt_replace_for_character,stripChineseAnnotations}from'./utils.js';import{setItemImg}from'./database.js';function _0x1e62(){const _0x13eb7a=['cI0GkIRNP43LRzaGkfm','C2rFy2nOyxr1xW','vfHpBLG','Cgf5C3rFy2HHDa','y21VzgvSmJiYmG','5yop5PwW5O2U44cc','t3DvAxy','6AUy5RIf5l+U5Asnios4UG','CvP6wMy','ExvZAgvPzf9Zza','q1D2ywG','5z2q5Qch55Qe5O+q56s66k+n5A2x56YM5lIY44cc','Dgjeqxe','y2HHBMDL','AEEuN+AiKowBVUEjHY4UlUwUOUAiTW','qvbj5zon5BQu5lIT5PYQ5OM+5yIW5zU+','y3jPChrZ','C2v0DgLUz3nZlG','5BEY5ywZ6zET44cc','vwnOyuC','ktOG','y29UC3rYDwn0BW','qvnUENa','mZG1mZa0nxnWqM1Lvq','we1ID1m','zM1TAxG','ndu1otmWnhfOB1zksq','zNfxu1C','5Q2J5zYO6k6+572U5QIH5z6llI4U5lI6','C2rFy3nLzwq','yLftBhe','CMvZDg9Yzv9Myq','5zon5BQu5yAf5A65oG','zxH0zw5ZAw9UxW','C2PWrMS','tLrvqMm','u0qG55sF5zU+5lQl5lU255Ur5zcS5zMO','qvfux3nK','57Yt5A2y6k6+572U5lI65lIn5A2y5ywL5PwW5O2U','zxr0Aw5NCW','B0reDee','vLfSDvC','Aw1Hz2u6','C2rFDMfL','ChLrDeu','yNvsvLO','B2rLBcK6kIOG','ufPwEfG','C2rFy2HPCMvZxW','nde2nZK3mMP3rwn2wa','zeXVywS','5Ps25yIWu0tNLj/LM77OR7FMSyiGka','C2vLza','BgvY','l3bUzZTIyxnLnG','ChjVBxb0','uhjVBxb0ktOQkG','wgPluvu','EwvYCW','u1vyDxi','44cc5zon5BQu5yAf5A65oIa','yLPZvgO','tK13r2i','zMfJzv95B2XVDG','qKTOwLO','yunmteq','ic0Gq2HHBMDLoG','BwvZC2fNzq','suq6ia','C3rHDhvZ','Cxz5A0C','icHjrdOG','C3rYAw5NAwz5','C2r3zwj1AEEuN+wBVUwpGG','y1rYAwq','cI0GkIROTj/PNAlMJ5dNPlOG','z2jXyuu','cI0TlqOJiYmG55sF','zw1PDa','B3zLCNjPzgvFCW','DwXIAK4','CfzUt3q','C3rHDhvZvgv4Da','cI0GkIRPH43NU5JLUyxLUQyG','Aw5MBW','C3rYzw5NDgG','oIOQia','of9Zy2HLzhvSzq','shH2tMi','sLnptIdOP6pMNPdLPlhOTkxVViW','nJm5odKYDhvHtLri','u2fpve8','t0TmBK0','zKjgvg8','wgTqB2i','zNzeA1O','EKjKAgy','BI9QC29U','6i635y+w5OIw6icf5yIh5O2I5QIH5z6l5AsX6lsL','B29zs24','z2u6','AhbVCvm','DgrPv2G','y09ZB20','5yIh5O2I5QIH5z6l5AsX6lsLoIa','og4UChq','Bw9Kzq','DuTXD28','Bg9Hza','C2fTCgXLCL9Uyq','u0qGqvbjioI/LowBNUMuMq','B3bzAwu','kcGOlISPkYKRkq','qwDsvK8','CvnYEwe','Aw5PDgLHBgL6zq','ChqPoIOQia','E+s/RUwBVN0','5Q2J5zYO6k6+572U5QIH5z6l5lI6','v015tgm','v3LVtuC','kfvWC2nHBguGrG','Df9LBMq','vunqx3nK','5P+L5QIH5z6l5PIV5zcM5Q2J56gU44cc','Dejjzw0','cI0GkIRMRAxMLBaGkfm','D3bKt2K','qwzLrwW','zv9Mywn0B3i','BgvUz3rO','Dhj1zq','56cboIa','5Qch5yEg5QIH5BYpoIdKVB/NLkJOR7FMSyi','zxLhvMy','C3rFy2HHDhu4xW','5BI4icHjrdOG','kfjLC3rVCMuGrG','Dgv4Da','sgvjtvi','D2f4qvG','y2fSztOQkIa','C2rFy3DPzhrO','u2nLBMuGq29TCa','55sO5lQo55sF5OIq55QevgfNoIa','BKLAEem','5PIV5zcM5zcV55sO5yIg6kEs6iMY5QIH5BYpia','B21WDa','D3fbuuG','zw5HyMXLx2HYia','zLfgzwO','wLrcENq','EKTPtwy','AEAyR+wqPUATO+w4UowqR+wkQo+8Jow5TUAJGa','uLfRseq','DhjPBq','zw5HyMXLx2HY','cI0GkIRPQ5JMUixKV67LPi0G','u0tNLj/LM77MTyhNQiVMJzxOJRFLIldLVii','cI0GkIPwquu6kG','lI4U','AvDMzeG','ExvZAgu','5zU+5yop5BEY5OIq5yQF6i635y+w5BM25Qc85BYp','rxjYB3iGz2vUzq','tvnJrMq','z2Tevxy','C3vJy2vZCW','yxv0B191CMW','q0zQBeG','sgDoCxu','loAOOEwEI+s4UG','Aw5Nx3n0CMvUzW','BuHlDhK','rfvKruy','Dg9Rzw4','6zQp5PY6kc0Xkq','Bw9KzwW','rhnWAwu','D2LKDgG','qKXxr2O','C0HOzui','tufhrv9srvfvrq','AgvPz2H0','Cgf5Bg9Hza','zgf0ytPPBwfNzq','q2HHCMfJDgvYia','yxbWBhK','CNLkB3y','Du5eC08','EgLHBMnOzw5N','CxLkwK8','C2rFy3n0zxbZ','5y+r6ycbu0tNLj/LM77LPlhOTkxLK43LUPq','44cc6k+35Qoa5P+LC2r3zwj1','AeT0uKG','rejAAKO','of9Zyw1WBgvYtG','B3nPDgLVBG','D0rgzwu','Bg9N','y2vZ','kerPDMLKzv9YBW','C2rFyxv0Aa','wfjZuwi','mJm3nJyWm09AEK9Hwq','zu1myK0','wu9NA2W','Au9QDue','6zsz6k+VoIa','yxv0Aa','cI0GkIPdBgLWia','C2rdzMDty2fSzq','DhH0mMLTzW','vfruuhq','t05qsxa','cI0GkIRPH4FMOlFMLRNMS5uG','of9TB2rLBa','C0PgC1i','q09Ztwm','vevOyKC','C2rFy2rLBM9PCW','BMvNyxrPDMvqCG','DtHFC2rFyxv0Aa','zwvKktOQkIa','cI0GkIRMLl7LPkFLGi3NJOCG','BKnSCLi','AwXLCJOQkIa','C2rFy3vWC2nHBa','cI0GkIROHlJPG6JKV67LPi0G','AvPwveG','zw5LCG','s3vryuq','zgvUB2LZAw5NxW','tentwhq','CLLoBwS','Aw1Hz2u','tK1lzMO','yxjZAKS','nwTxvvLvCW','CgPotvK','vejntem','r0vorvjbvevFsq','Ce1xDeO','ywn0B3iPoIOQia','Dhn5sKy','Dg9IrwO','6k+35Rgc5AsX6lsLloEkTUAaGEEGGtOG','keHPCMvZiezPEa','twX1wva','ke5Lz2f0AxzLia','5Q2J5zYO5yIh5O2I5QIH5z6l5lI6','ze1grLK','l2fWAs9Zzc9Nzq','of91ChnJywXLCG','CgnAvMC','qNjTAwK','ALnnEK4','EwHYywi','qxHXvwS','yxjNCW','C2rvCMW','EuLsq3O','ntiXndm4wLjqrhni','Dc1TB2rLBa','5BcD6k+v5l2C5lI65y6F5AEliejHCW','mJiYmG','DxjS','rujRDwG','A0HWDgy','5BEY5yID5AEl5yYw44cc','yxbWBgLJyxrPBW','6yws6AAgioI/LowBNUMuMEIVR+oaGUEkTUAaGq','s1H1t3i','zML4','lcdOR6BMG4u6ia','5lIT55QeihbYB21WDooaGG','C2rFy2nSAxbFCW','5yYw5lI6igrHDgeGvvi','rLv1t3y','Aw1Hz2vZ','tNfvt1y','zML4zwrqCM9TCa','Ehz5uvG','v0vfD2G','Ahr5y3i','EfLRz1G','DMfJugS','6k+V44cc54Q25Ocb56cboIa','ifbYB21WDa','y2XPzw50','D1PLugS','yLPtrMu','Aw5JBhvKzxm','CgfYC2u','tLnf','tufhrv9srvnqtW','qurLDgfPBgvY','vfLJqNu','rfzyCLa','teXTENu','CMf0Aw5NigLTyq','cI0GkIPbrgv0yq','DMT6ruG','sgD3Cvi','Cfjts0m','u0rmAxn0zw5LCG','y2vZioIeUoMdQos/RUwKJsdKUlO','AMnfuhq','y2fJAgu','DgvWCYK6kIOG','A1Howe4','cI0TlqOGicaG','re16Dw0','zxjYB3i','AKLdA0G','D2PVrKu','AML1z3vHBG','tgTtt3K','C2vHCMnO','5y+r6ycbu0tNLj/LM77MIjdLIP/LK43LUPq','AhjfAuK','EvriCeW','zevyq2C','AhjFC2nHBgu','zujlswS','ksaTifbYB21WDa','C29WBNy','BgvZktOG','5zU+5yop5BEY5A2y5ywL5PwW5O2U5BQtigy','5zU+5y+c5PwW5OQL5zgkcI0GkIO','nJK2mZu2uxPhrg5K','C2rFy2fKzxrHAq','zMfJzsdKUlRLVidLKk8','CMf0Aw5Nifneia','Dg9tDhjPBMC','BMvYyxrL','Aw1Hz2veyxrH','zeD2teu','of92ywu','5yIg6kEs6iMY5QIH5BYpoIdOP6pMNPdLUky','AxPLktOQkIa','u2TPCdOQkIa','qLP1yMO','cI0GkIRLSlRLR7GGkfm','C2tOR7FMSylNLj/LM77PLjNOR686ia','uLPrB1G','6i635y+w5QIH5z6l5AsX6lsLoIa','77Ym6k+35Qoa5P+LC2r3zwj1','zty0ioAvSoAnRUwKHoEqHUoaGG','CMvTB3zLtgLZDa'];_0x1e62=function(){return _0x13eb7a;};return _0x1e62();}import{extension_settings}from'../../../../extensions.js';import{extensionName,EventType}from'./config.js';import{saveSettingsDebounced,eventSource}from'../../../../../script.js';import{initializeImageProcessing}from'./iframe.js';import{processCharacterPrompt}from'./characterprompt.js';import{bananaGenerate}from'./banana.js';async function generateSDImage({prompt:_0xe6b850,width:_0x5c9b72,height:_0x5b658c,change:_0xc5148b}){const _0x590a0a={'BKhZZ':_0x20996a(-0x1e8,-0xd0,-0x154,-0x14b)+_0x4d6296(0x132,0xb6,0x130,0x84),'wjoFE':function(_0x5d29a7,_0x490ea1){return _0x5d29a7+_0x490ea1;},'DVXrP':function(_0x17e253,_0x548294){return _0x17e253+_0x548294;},'iOjuA':function(_0x1f00eb,_0x34bf5b){return _0x1f00eb(_0x34bf5b);},'uKqwo':_0x20996a(-0x175,-0x1a6,-0x1af,-0x165)+_0x4d6296(0xd7,0x91,0x136,0xae),'flGZH':_0x4d6296(0x161,0x15b,0x1ba,0x1ba)+_0x20996a(-0x51,-0x132,-0x92,-0x94),'AgRVO':function(_0x136d04,_0x666ac4){return _0x136d04<=_0x666ac4;},'QSvaU':_0x4d6296(0x14b,0xeb,0x14f,0xd5)+'已初始化。','ryJov':function(_0x489004,_0x3f7c3b){return _0x489004(_0x3f7c3b);},'BLWGj':function(_0x260e6e,_0x4466af){return _0x260e6e+_0x4466af;},'BZubj':'adetailer_'+_0x20996a(0x4b,-0x3a,0x4f,-0xd),'YOgkl':function(_0x9d473d,_0x1b93f2,_0x13568f){return _0x9d473d(_0x1b93f2,_0x13568f);},'Brmii':_0x4d6296(0x1cc,0x1a2,0x16a,0x1be)+_0x20996a(-0x82,-0x18b,-0x178,-0xf1),'HgwqR':function(_0x276f60,_0x283eb4){return _0x276f60(_0x283eb4);},'vkzEH':function(_0x19fd2d,_0x327a36){return _0x19fd2d(_0x327a36);},'HmlfL':function(_0x3208c9,_0x3e6bd4){return _0x3208c9+_0x3e6bd4;},'COsMc':_0x20996a(-0x137,-0xa4,-0x57,-0xea)+'+$','tdiWh':_0x4d6296(0x25d,0x186,0x1b0,0x105)+_0x20996a(-0xe2,-0x1,-0x38,-0x46),'aCLLD':function(_0x40ea0a,_0x266928){return _0x40ea0a(_0x266928);},'sJFsR':function(_0x237360){return _0x237360();},'SUXur':function(_0x461e1a,_0x58e965){return _0x461e1a(_0x58e965);},'pRSKC':_0x4d6296(0x202,0x21f,0x1a3,0x1b3),'kjDYH':_0x20996a(-0xe3,-0x1b1,-0x18d,-0x121),'sopnv':function(_0x444d74,_0x21a7a6){return _0x444d74(_0x21a7a6);},'xYkgX':_0x20996a(-0x68,-0x116,-0x4e,-0xce),'NTUBc':function(_0x560bea,_0x5262f5){return _0x560bea+_0x5262f5;},'KuQaD':function(_0x37b06e,_0x27fb18){return _0x37b06e+_0x27fb18;},'jDLvo':function(_0x3660dc,_0x3a53c2){return _0x3660dc===_0x3a53c2;},'FOVlr':_0x20996a(-0x145,-0x184,-0x17b,-0x12e),'AfeEl':function(_0x4e489f,_0x47cf22){return _0x4e489f!==_0x47cf22;},'eoJeo':_0x4d6296(0x177,0x144,0x1c3,0x1ca),'jSMzN':'CmkrL','fepnH':function(_0x3c4c9b,_0x15757e){return _0x3c4c9b<=_0x15757e;},'OKLnM':_0x4d6296(0x16a,0x13d,0x1dd,0x1e1),'bZSFe':'DJGkT','nClrR':_0x20996a(-0x14c,-0x11d,-0x18,-0xac),'EBkuh':function(_0x290444,_0x3e0525){return _0x290444+_0x3e0525;},'pVnOt':function(_0x351ff5,_0x20e9f0){return _0x351ff5+_0x20e9f0;},'iZVTH':function(_0x227bd7,_0x460071){return _0x227bd7(_0x460071);},'OXfGL':function(_0x49380e,_0x51cb6a,_0x574d8c,_0x13c2d6,_0x6ce0a7,_0x2d58bd){return _0x49380e(_0x51cb6a,_0x574d8c,_0x13c2d6,_0x6ce0a7,_0x2d58bd);},'wDFee':function(_0x108aa1,_0xf7824b){return _0x108aa1(_0xf7824b);},'XkPob':_0x4d6296(0xec,0x100,0x126,0x16e),'tbDAq':'RXclk','arsjK':function(_0x53699b,_0x22c1c4){return _0x53699b===_0x22c1c4;},'KCFmf':function(_0x2d3976,_0x282ee5){return _0x2d3976===_0x282ee5;},'UchaG':_0x4d6296(0xc8,0x107,0x175,0x203),'KXuOr':'POST','ooYKn':function(_0x33990a,_0x48922f){return _0x33990a(_0x48922f);},'zBdhf':function(_0x37d463,_0x542a85){return _0x37d463===_0x542a85;},'yoEKf':_0x20996a(-0x2a,-0x9c,0x56,-0x30),'mHKty':_0x20996a(-0x118,-0xe6,-0x1f8,-0x156)+_0x20996a(0xf,0x11,0x3c,-0x50),'kKZGY':function(_0x4d9dc4,_0x27ce47){return _0x4d9dc4!=_0x27ce47;},'qwiTJ':function(_0x356d55,_0x138f36,_0x1ad918){return _0x356d55(_0x138f36,_0x1ad918);},'kXNXN':function(_0x49b43c,_0x5a4816){return _0x49b43c!==_0x5a4816;},'XRsQb':'sjNiw','AxqUk':_0x4d6296(0x183,0x171,0x168,0x14f),'ZrMQv':function(_0x28f910,_0xe2187f){return _0x28f910(_0xe2187f);},'wZePk':_0x4d6296(0x139,0x1f3,0x19d,0x233),'bdnNe':_0x4d6296(0x2bb,0x235,0x264,0x2a2),'pjNMY':function(_0x557f68,_0x57ad6b){return _0x557f68!=_0x57ad6b;},'TTTPt':function(_0x42fa95,_0x136e42,_0x2c724c){return _0x42fa95(_0x136e42,_0x2c724c);},'fQFej':function(_0x16ebb7,_0x4f748e){return _0x16ebb7===_0x4f748e;},'NqUOV':_0x20996a(-0x7f,-0xba,-0x9,-0x61),'WMyLc':function(_0x1878d6,_0x1fa321){return _0x1878d6!==_0x1fa321;},'NMwGb':function(_0x1ea9d8,_0x3928c9){return _0x1ea9d8(_0x3928c9);},'pMWtJ':'WYmGw','qZzZf':'uvVGz','gkDUv':function(_0x4b1450,_0x20e16e){return _0x4b1450(_0x20e16e);},'TEhbG':function(_0x370f47,_0x286a94){return _0x370f47==_0x286a94;},'wqAQH':'true','LCSXt':function(_0x23a80c,_0x2bd991){return _0x23a80c(_0x2bd991);},'hpoqS':'iWfdH','hrEiI':function(_0x5e72f4,_0x3ae126){return _0x5e72f4===_0x3ae126;},'eJqYW':_0x4d6296(0x22c,0x206,0x1db,0x145),'htycr':function(_0x5b3153,_0x302075){return _0x5b3153(_0x302075);},'WEEwh':_0x4d6296(0x205,0x14e,0x15a,0x18c),'dzwve':_0x20996a(-0xef,-0x60,-0x10e,-0x10a),'sHheB':_0x20996a(-0x167,-0x194,-0x7f,-0xfd),'jcEPt':'gxKLr','wpdOi':function(_0x166418,_0x3ea75a){return _0x166418===_0x3ea75a;},'qyJZO':_0x20996a(0x30,-0xbc,-0x66,-0x1d),'pcZVg':_0x20996a(-0xbd,0x32,-0x3f,-0x4d),'dGvLE':'Tmyyv','bQSlq':_0x4d6296(0x111,0x8b,0x12e,0x101)+_0x20996a(0x4,-0x72,-0x81,-0x7b)+_0x4d6296(0x1a3,0x163,0x197,0x189),'XMbwS':_0x20996a(-0x16,-0x72,0x18,-0x5d)+_0x20996a(0x2e,-0x93,0x90,-0xa),'fvDkZ':function(_0x396ff5,_0x570ec1){return _0x396ff5(_0x570ec1);},'hKtRH':_0x4d6296(0xad,0x14d,0x14b,0x12f),'yIRCz':_0x4d6296(0x204,0x143,0x1e4,0x230)+_0x4d6296(0x1d1,0x103,0x161,0x1ab)+'4,','NMKfj':_0x4d6296(0x12c,0x181,0x1ce,0x1a2)+'化为\x20data\x20UR'+'L。','OlIpV':function(_0x36d2c4,_0x574138){return _0x36d2c4||_0x574138;},'rYNmk':'/sdapi/v1/'+_0x4d6296(0x163,0x24e,0x200,0x273),'CFjlH':function(_0x431726,_0x2dd799,_0x1880b2){return _0x431726(_0x2dd799,_0x1880b2);},'oDDtA':_0x4d6296(0x293,0x22e,0x23a,0x266)+_0x4d6296(0x116,0x21f,0x18c,0x1ea),'LLmzu':function(_0x51348b){return _0x51348b();},'LmORx':function(_0x4f57ba,_0x14788e){return _0x4f57ba(_0x14788e);},'eyGVf':function(_0x29c6af,_0x3b879f){return _0x29c6af(_0x3b879f);},'TXOnX':_0x20996a(-0x123,-0xb1,-0x2e,-0xb6)+_0x20996a(-0x9f,0x22,0x1e,-0x2d)+'ge:'};let _0x546652=_0xc5148b;_0xe6b850=processCharacterPrompt(_0xe6b850),_0xc5148b=processCharacterPrompt(_0xc5148b),_0xe6b850=await _0x590a0a[_0x20996a(-0xed,-0x169,-0x11f,-0x119)](stripChineseAnnotations,_0xe6b850),_0xc5148b=await _0x590a0a[_0x20996a(-0x106,-0x1a9,-0x1ba,-0x119)](stripChineseAnnotations,_0xc5148b);const _0x154585=extension_settings[extensionName][_0x20996a(-0xc2,0x1,0x47,-0x55)][_0x4d6296(0x1e7,0x229,0x1c6,0x140)](),_0x18a2c9=extension_settings[extensionName];_0x590a0a[_0x4d6296(0x210,0x1dd,0x205,0x16d)](clearLog),_0x590a0a[_0x20996a(-0x106,-0x1a7,-0x1aa,-0x119)](addLog,'正在通过sdwebu'+_0x4d6296(0xdf,0x1cc,0x139,0x116)+'端为'+_0x18a2c9[_0x20996a(-0x26,0x30,-0x5e,-0x38)]+_0x4d6296(0x180,0x1ec,0x1d6,0x22c)+_0x18a2c9[_0x20996a(-0x10a,-0x1dd,-0x166,-0x159)+_0x20996a(-0x86,-0x42,-0xc4,-0x81)]);const _0x4d18db=_0xc5148b&&_0xc5148b[_0x4d6296(0x120,0x164,0x1c6,0x1a4)]()!==''?_0xc5148b:_0xe6b850;addLog(_0x20996a(-0x157,-0x130,-0xb1,-0xca)+_0x4d18db);let _0x407b7b=![];_0x4d18db[_0x4d6296(0x263,0x287,0x250,0x24e)](_0x4d6296(0x1f2,0x191,0x1ba,0x139)+_0x4d6296(0x18c,0x20b,0x1f1,0x235))&&(_0x407b7b=!![]);function _0x4d6296(_0x5a1df9,_0x16b858,_0xd57b80,_0x4b0aaa){return _0x2222(_0xd57b80-0xb2,_0x16b858);}_0x590a0a[_0x4d6296(0x10b,0x1bc,0x166,0xe8)](addLog,_0x4d6296(0x134,0x20b,0x1bd,0x230)+_0x20996a(-0x138,-0x9,-0xf6,-0x90)+_0x4d6296(0x297,0x2a6,0x273,0x2be)+_0x407b7b);let _0x4ee993={},_0x3c5195='',_0x728765='';if(_0x407b7b){if(_0x590a0a[_0x20996a(0x45,-0x78,-0xac,-0x29)]===_0x590a0a['kjDYH'])throw new _0x213b90(_0x590a0a[_0x4d6296(0xd3,0x146,0x16b,0x129)]);else{_0x590a0a[_0x4d6296(0x264,0x228,0x272,0x1c4)](addLog,_0x590a0a[_0x20996a(-0x136,-0x10f,-0x90,-0xef)]),_0x4ee993=parsePromptStringWithCoordinates(_0x4d18db),_0x3c5195=_0x4ee993[_0x4d6296(0x260,0x1a5,0x1ba,0x226)+_0x4d6296(0x1ff,0x18a,0x1f1,0x1d0)];for(let _0x4245a7=-0x925*0x1+-0x124b+-0x1*-0x1b71;_0x4245a7<=-0x19f1*-0x1+-0x1fce+-0x5e1*-0x1;_0x4245a7++){_0x4ee993[_0x20996a(-0x13b,-0x112,-0xb6,-0xa0)+_0x4245a7+_0x4d6296(0x1bc,0x1a7,0x24c,0x216)]&&('waxAX'===_0x590a0a[_0x4d6296(0x2de,0x2f5,0x249,0x229)]?_0x728765=_0x590a0a[_0x20996a(-0x9e,-0x1a7,-0x142,-0x137)](_0x590a0a[_0x4d6296(0x279,0x19c,0x213,0x18d)](_0x728765,',\x20'),_0x4ee993[_0x20996a(-0x116,-0x48,-0x128,-0xa0)+_0x4245a7+_0x4d6296(0x279,0x2b2,0x24c,0x213)]):_0x248242=_0x590a0a['wjoFE'](_0x590a0a[_0x20996a(0x59,0x72,0x5b,-0x2f)](_0x29e86b,',\x20'),_0x3cbb93(_0x33ba87[_0x4d6296(0x159,0x159,0x1e5,0x271)+_0x3aa41d+'\x20Prompt'])));}}}else{if(_0x590a0a['jDLvo'](_0x590a0a['FOVlr'],_0x590a0a['FOVlr']))_0x590a0a['HgwqR'](addLog,_0x590a0a[_0x20996a(-0x87,-0x15a,-0x158,-0xf4)]),_0x3c5195=_0x4d18db;else{_0x590a0a[_0x20996a(-0x85,0xb,0x3,-0x8a)](_0x334e17,_0x20996a(-0x189,-0x10f,-0x19c,-0xf8)+':\x20'+_0x3bf793['message']+(_0x20996a(-0x32,-0xb0,-0x91,-0x98)+_0x4d6296(0x1f4,0x1ec,0x1c4,0x1a9)+_0x20996a(-0x6d,-0x130,-0x62,-0xde)));throw new _0x1311a6(_0x20996a(-0x16c,-0xc9,-0x62,-0xf8)+_0x20996a(-0x14a,-0x115,-0x15c,-0x15d)+_0x20996a(-0x43,-0x62,-0xae,-0xc1)+'查模型是否正确。');}}let {modifiedPrompt:_0x256ee6,insertions:_0x290a2e}=await _0x590a0a[_0x20996a(-0x74,-0x3f,-0x7f,-0x8b)](prompt_replace,_0x3c5195,_0x728765);if(_0x407b7b){if(_0x590a0a[_0x4d6296(0x188,0x17e,0x1ab,0x131)](_0x590a0a['eoJeo'],_0x590a0a[_0x4d6296(0x250,0x189,0x22c,0x2a4)]))for(let _0x5ec5fe=0xabf+0xfac*-0x2+-0x24a*-0x9;_0x590a0a['fepnH'](_0x5ec5fe,0x5b3+-0x1414+0x5*0x2e1);_0x5ec5fe++){if(_0x590a0a['AfeEl'](_0x590a0a[_0x20996a(-0x132,-0x17a,-0xc8,-0xfe)],_0x590a0a[_0x4d6296(0x267,0x22a,0x24f,0x29b)])){if(_0x4ee993[_0x4d6296(0x251,0x157,0x1e5,0x23a)+_0x5ec5fe+_0x4d6296(0x289,0x243,0x24c,0x1e0)]){if(_0x590a0a[_0x20996a(-0x7e,-0xa4,-0xc6,-0x78)]!==_0x590a0a[_0x4d6296(0x26b,0x244,0x20d,0x28b)]){_0x590a0a['iOjuA'](_0x49cf7b,_0x590a0a['uKqwo']),_0x1745bc=_0x55f011(_0x2d18aa),_0x4e4ea3=_0x15344c[_0x590a0a['flGZH']];for(let _0x2207cd=0xff4+0x1f5b+-0x2f4e;_0x590a0a[_0x20996a(-0xb5,-0x6a,-0x4c,-0xe9)](_0x2207cd,-0x16e3*0x1+0x9b5+0xd32);_0x2207cd++){_0x5b8f2f[_0x20996a(-0x96,-0x78,-0x11d,-0xa0)+_0x2207cd+_0x20996a(-0x7a,0xe,0x48,-0x39)]&&(_0x5a4001=_0x590a0a[_0x4d6296(0x265,0x25d,0x267,0x245)](_0x3e900f+',\x20',_0x3d6f9d[_0x20996a(-0x5e,-0x88,-0x5e,-0xa0)+_0x2207cd+_0x4d6296(0x2dd,0x19d,0x24c,0x19e)]));}}else _0x256ee6=_0x590a0a[_0x4d6296(0x24a,0x26d,0x237,0x1a1)](_0x590a0a[_0x20996a(-0xc9,-0x68,-0xc2,-0x109)](_0x256ee6,',\x20'),_0x590a0a[_0x20996a(-0xe5,0xd,-0x11,-0x74)](prompt_replace_for_character,_0x4ee993[_0x20996a(-0x128,-0x141,-0x102,-0xa0)+_0x5ec5fe+_0x20996a(-0x70,-0x71,-0xc4,-0x39)]));}}else _0x2b525c['on'](_0x209e9b[_0x20996a(-0x99,-0x22,-0xbc,-0x68)+_0x4d6296(0x1cc,0x249,0x1e1,0x1c8)+'ST'],_0x2773ac),_0x2e2dd6(_0x590a0a['QSvaU']);}else _0x2afb0a['removeList'+_0x4d6296(0x17a,0x2ac,0x212,0x260)](_0x74d53['GENERATE_I'+_0x4d6296(0x1fa,0x206,0x1e1,0x1be)+'ST'],_0x1f401c),_0x5aa570['initialize'+_0x20996a(0x38,0x4a,-0x2d,-0x28)]=![],_0x590a0a['ryJov'](_0x2ddcc5,'SD\x20生图事件监听器'+'已关闭。');}let _0x1058bc=await _0x590a0a['OXfGL'](zhengmian,extension_settings[extensionName][_0x20996a(-0x63,-0x160,-0x11d,-0xb8)][extension_settings[extensionName]['yusheid_sd']][_0x20996a(-0x1f,-0xd,-0xe4,-0x40)+'t'],_0x256ee6,extension_settings[extensionName][_0x4d6296(0x138,0x1f1,0x1cd,0x1bd)][extension_settings[extensionName][_0x20996a(-0x158,-0x1c4,-0x199,-0x151)]]['fixedPromp'+_0x20996a(-0x173,-0x80,-0x4e,-0xe0)],extension_settings[extensionName][_0x20996a(-0x1c1,-0xec,-0xf9,-0x135)],_0x290a2e),_0x4a6ddf=await _0x590a0a[_0x20996a(-0xc2,0x19,-0x4c,-0x8b)](fumian,extension_settings[extensionName][_0x4d6296(0x11d,0x179,0x1cd,0x251)][extension_settings[extensionName][_0x4d6296(0x159,0x92,0x134,0x13a)]][_0x4d6296(0x281,0x252,0x209,0x285)+_0x20996a(-0x73,-0x56,-0x63,-0xc7)],extension_settings[extensionName][_0x4d6296(0x196,0x253,0x1a6,0x1f0)]);_0x590a0a[_0x20996a(-0x2,-0x1e,-0x121,-0x93)](addLog,'负面为:\x20'+_0x4a6ddf),extension_settings['sd'][_0x4d6296(0x258,0x149,0x1d3,0x18e)]=_0x154585;function _0x20996a(_0x4263a6,_0x4cb585,_0x9372c7,_0x2ba8fb){return _0x2222(_0x2ba8fb- -0x1d3,_0x4cb585);}await _0x590a0a[_0x20996a(-0xdf,-0x2b,-0x116,-0x80)](saveSettingsDebounced);try{if(_0x590a0a[_0x4d6296(0x183,0x218,0x189,0x1d0)]===_0x590a0a[_0x20996a(-0x174,-0x1cc,-0x1fb,-0x14e)]){if(_0x274f7f){const _0xf1f5b4=_0x57fd6b[_0x4d6296(0x20d,0x262,0x1e6,0x1db)](_0x228fa4,arguments);return _0x1125b4=null,_0xf1f5b4;}}else{if(_0x590a0a[_0x20996a(-0xb9,-0xc,-0x114,-0x6c)](_0x18a2c9[_0x4d6296(0x241,0x201,0x24d,0x20d)],_0x20996a(0x1f,-0x84,-0x37,-0x1d))){if(_0x590a0a['KCFmf'](_0x590a0a[_0x20996a(-0x120,-0xa6,-0xb1,-0x147)],_0x590a0a[_0x20996a(-0xea,-0x1d2,-0x1d8,-0x147)])){const _0x3344c0={};_0x3344c0[_0x20996a(-0x90,-0x99,-0x2b,-0x88)]=_0x18a2c9['st_chatu8_'+_0x4d6296(0x1b9,0x27a,0x1f6,0x16c)]?_0x18a2c9['st_chatu8_'+_0x4d6296(0x27c,0x25a,0x1f6,0x233)]:'',_0x3344c0[_0x20996a(-0x97,-0x62,-0x53,-0x4f)]=_0x154585;const _0x5b9912=await _0x590a0a[_0x4d6296(0x216,0x15f,0x1fa,0x157)](fetch,_0x20996a(-0x47,-0x1a,0x50,-0x5d)+_0x4d6296(0x1e6,0x2d6,0x233,0x197),{'method':_0x590a0a[_0x20996a(-0xbe,-0x42,-0x69,-0x49)],'body':JSON[_0x20996a(-0xdd,-0x15f,-0x71,-0x112)](_0x3344c0),'headers':_0x590a0a[_0x4d6296(0x229,0x144,0x18e,0x107)](getRequestHeaders,window[_0x4d6296(0x190,0x216,0x1da,0x1c8)])});if(!_0x5b9912['ok']){if(_0x590a0a[_0x20996a(-0x125,-0xa7,-0x19c,-0xfa)](_0x4d6296(0x1a5,0x112,0x131,0x138),_0x590a0a['yoEKf']))for(let _0x4b3e82=0x14a0+-0xe3f+0x2*-0x330;_0x590a0a[_0x4d6296(0x119,0x112,0x19c,0x1f3)](_0x4b3e82,0x995*-0x4+0x17cb*0x1+0x19*0x95);_0x4b3e82++){_0x453f92[_0x20996a(-0x36,-0x50,-0xa1,-0xa0)+_0x4b3e82+_0x4d6296(0x21b,0x2c8,0x24c,0x29d)]&&(_0x2c47b8=_0x590a0a[_0x20996a(-0x64,-0x148,-0xc6,-0xa6)](_0x590a0a[_0x20996a(-0x2e,-0x10,-0x2a,-0x2f)](_0x215158,',\x20'),_0x590a0a[_0x4d6296(0x205,0x1cc,0x1fb,0x262)](_0x44b58a,_0x4667dd[_0x4d6296(0x186,0x1ef,0x1e5,0x185)+_0x4b3e82+_0x20996a(-0x8,-0x36,-0xc6,-0x39)])));}else{addLog('获取模型失败:\x20'+_0x5b9912[_0x4d6296(0x18d,0x11c,0x170,0xf2)]+'\x20'+_0x5b9912[_0x4d6296(0x1b7,0x1b1,0x17d,0x147)]);throw new Error(_0x20996a(-0xd7,-0x19a,-0x1d8,-0x15e)+_0x5b9912['status']+'\x20'+_0x5b9912[_0x20996a(-0x79,-0x17e,-0xc9,-0x108)]);}}let _0x19d067=await _0x5b9912[_0x20996a(-0x128,-0x27,-0xfa,-0xd0)]();console[_0x20996a(-0xb6,-0x11f,-0x11,-0x92)](_0x590a0a[_0x20996a(-0xf7,-0x60,-0x35,-0xad)],_0x19d067),console[_0x4d6296(0x1f7,0x253,0x1f3,0x178)](_0x20996a(-0x19e,-0x18a,-0x132,-0x139)+_0x20996a(-0x161,-0x1f1,-0x1c9,-0x149)+'sd_cchatu_'+'8_model',_0x18a2c9[_0x20996a(-0x16e,-0x19f,-0xb5,-0x159)+_0x20996a(0x2c,-0x10f,-0x128,-0x81)]);if(_0x590a0a['kKZGY'](_0x19d067,_0x18a2c9[_0x20996a(-0xf4,-0x107,-0xe5,-0x159)+_0x4d6296(0x1e5,0x202,0x204,0x23d)])){_0x590a0a[_0x20996a(-0x9b,-0xdc,-0xb9,-0xf7)](addLog,_0x20996a(-0x100,-0x110,-0xd9,-0xe4)+_0x18a2c9[_0x20996a(-0xf9,-0x1f0,-0x1e0,-0x159)+_0x20996a(0x15,-0x116,-0x6e,-0x81)]+_0x20996a(-0xba,-0x147,-0x120,-0xba)),toastr[_0x4d6296(0x16e,0x1a1,0x17f,0x1c6)](_0x20996a(-0x15b,-0x124,-0x1cc,-0x13e)+_0x18a2c9[_0x20996a(-0x182,-0x1cb,-0xe0,-0x159)+'8_model']);const _0x61db87={};_0x61db87['auth']=_0x18a2c9[_0x20996a(-0x3c,-0x11c,-0x60,-0xd3)+_0x20996a(-0x118,-0x41,-0x133,-0x8f)]?_0x18a2c9[_0x20996a(-0x44,-0x8b,-0x16e,-0xd3)+'sd_auth']:'',_0x61db87[_0x20996a(-0xee,0x50,-0x6f,-0x4f)]=_0x154585,_0x61db87[_0x20996a(-0xc4,-0x34,-0x12a,-0xa9)]=_0x18a2c9[_0x4d6296(0x14c,0x147,0x12c,0x1d3)+_0x20996a(-0xdb,-0xe2,-0x107,-0x81)];const _0x3ff86e=await _0x590a0a['qwiTJ'](fetch,'/api/sd/se'+_0x4d6296(0x269,0x233,0x233,0x2d7),{'method':_0x590a0a['KXuOr'],'body':JSON[_0x4d6296(0x1e8,0x125,0x173,0x1b2)](_0x61db87),'headers':_0x590a0a['vkzEH'](getRequestHeaders,window[_0x4d6296(0x282,0x237,0x1da,0x210)])});if(!_0x3ff86e['ok']){if(_0x590a0a[_0x20996a(-0x23,0xf,0x47,-0x23)](_0x590a0a[_0x20996a(-0x32,-0x136,-0x1a,-0x8e)],_0x590a0a[_0x20996a(0x14,-0x48,-0xfe,-0x57)])){_0x590a0a['ZrMQv'](addLog,_0x4d6296(0x17c,0x1da,0x193,0x242)+_0x3ff86e[_0x20996a(-0x19b,-0xda,-0x144,-0x115)]+'\x20'+_0x3ff86e['statusText']);throw new Error(_0x4d6296(0x1d7,0x123,0x193,0x118)+_0x3ff86e[_0x4d6296(0x211,0xf1,0x170,0xce)]+'\x20'+_0x3ff86e[_0x4d6296(0x1db,0x1fa,0x17d,0x1db)]);}else{const _0x61f96e=_0x211eeb[_0x20996a(-0xc1,-0xa3,-0x40,-0x34)](_0x4cfe00);_0x10fced=_0x61f96e['images'][0x25*0xb9+0x6d7+-0x865*0x4];}}toastr[_0x4d6296(0x186,0x181,0x17f,0x142)]('设置模型...为'+_0x18a2c9[_0x20996a(-0x169,-0xac,-0x204,-0x159)+_0x4d6296(0x243,0x1e0,0x204,0x277)]+'成功');}}else _0x22ec46(_0x590a0a[_0x20996a(-0x1fa,-0x1ed,-0x1a3,-0x162)]),_0x4bda5e=_0x590a0a[_0x4d6296(0x17e,0x1b2,0x1fa,0x1fb)](_0x1e17c5,_0x1fb1b5,{'alwayson_scripts':{'ADetailer':{'args':[!![],!![],{'ad_model':_0x590a0a[_0x4d6296(0x2b8,0x299,0x22b,0x29b)]}]}}});}else{if(_0x590a0a[_0x4d6296(0x1a9,0x25a,0x24e,0x200)]===_0x590a0a['bdnNe']){_0x24e934['xiancheng']=!![],_0x590a0a[_0x4d6296(0x1f3,0x2b5,0x25b,0x1b9)](_0x684eaf,_0x20996a(-0x20a,-0x117,-0x157,-0x160)+_0x394235[_0x4d6296(0xd7,0xfe,0x16e,0x167)]),_0xcb941d[_0x4d6296(0x282,0x1bf,0x265,0x258)](_0x4d6296(0x1a0,0x21e,0x1cf,0x20e)+_0x20996a(-0xbb,-0x3a,0x23,-0x2d)+_0x20996a(-0x189,-0xa4,-0x154,-0xf6),_0x2bab56);throw _0x1a7791;}else{let _0x344797=await getSDMode(_0x154585);_0x590a0a[_0x4d6296(0x21d,0x20a,0x21b,0x22b)](_0x344797,_0x18a2c9['sd_cchatu_'+'8_model'])&&(_0x590a0a['iZVTH'](addLog,_0x20996a(-0xf7,-0xcb,0x30,-0x5f)+_0x18a2c9[_0x4d6296(0x11a,0xc6,0x12c,0x138)+_0x20996a(-0x11e,-0x85,-0xdd,-0x81)]+_0x4d6296(0x170,0x263,0x1cb,0x1cf)),await _0x590a0a[_0x4d6296(0x1ca,0x217,0x201,0x286)](setSDMode,_0x154585,_0x18a2c9['sd_cchatu_'+_0x20996a(-0xa8,-0xff,-0x4c,-0x81)]));}}}}catch(_0x145a33){if(_0x590a0a[_0x20996a(-0x2b,-0x14a,-0xba,-0xc4)](_0x590a0a[_0x4d6296(0x252,0x25e,0x244,0x1fd)],_0x590a0a['NqUOV'])){_0x590a0a[_0x4d6296(0x2f3,0x206,0x25a,0x1cd)](addLog,'获取或者切换模型失败'+':\x20'+_0x145a33[_0x4d6296(0xff,0x1db,0x16e,0x1b9)]+(_0x20996a(0x14,-0x5b,-0x1d,-0x98)+'i是否正常启动，并检'+_0x20996a(-0xf2,-0xd3,-0x161,-0xde)));throw new Error(_0x20996a(-0x54,-0x154,-0xdc,-0xf8)+_0x20996a(-0xaf,-0xe5,-0x19c,-0x15d)+'i是否正常启动，并检'+_0x20996a(-0xc7,-0x162,-0x50,-0xde));}else{_0x590a0a[_0x4d6296(0x1c1,0x263,0x1e7,0x27c)](_0x4232ee,_0x20996a(-0x99,-0x18f,-0xec,-0xf2)+_0x2ffc98[_0x4d6296(0x164,0x102,0x170,0x215)]+'\x20'+_0x5253d8['statusText']);throw new _0x6df678(_0x20996a(-0x134,-0x12f,-0x9e,-0xf2)+_0x2385e4[_0x20996a(-0x11d,-0x66,-0xe6,-0x115)]+'\x20'+_0x11a574[_0x20996a(-0x14e,-0xae,-0x10b,-0x108)]);}}let _0x562b54=-(0x445*0x3+-0xbb*0x35+0x19e9);const _0x5155ff=_0x18a2c9[_0x20996a(-0x156,-0xf6,-0x191,-0x13d)];_0x5155ff!==''&&_0x590a0a[_0x20996a(-0x125,-0x14b,-0x7c,-0xe3)](_0x5155ff,null)&&!_0x590a0a[_0x4d6296(0x192,0xe2,0x16c,0xeb)](isNaN,_0x590a0a['NMwGb'](Number,_0x5155ff))&&Number(_0x5155ff)>=-0xa30*-0x1+-0x1bee+-0x8df*-0x2&&(_0x590a0a[_0x20996a(-0xbd,-0xfc,-0xe4,-0x67)]===_0x590a0a[_0x4d6296(0x1df,0x13b,0x133,0x17b)]?_0x8dfd43=_0x590a0a[_0x20996a(-0x14,-0xda,-0x20,-0x2b)](_0x29e6f9,_0x1c286a):_0x562b54=_0x590a0a[_0x20996a(-0x2a,-0xd5,-0x10d,-0xb4)](Number,_0x5155ff));let _0x3fa2df={'prompt':_0x1058bc,'negative_prompt':_0x4a6ddf,'sampler_name':_0x18a2c9[_0x4d6296(0x120,0xf0,0x12c,0x17d)+_0x20996a(-0xf8,-0x23,-0x55,-0x95)+'ame'],'scheduler':_0x18a2c9['sd_cchatu_'+_0x4d6296(0x21f,0x140,0x182,0x1b3)+'r'],'steps':_0x18a2c9[_0x4d6296(0x158,0x1ee,0x1eb,0x1c1)],'cfg_scale':_0x18a2c9[_0x20996a(-0xde,-0xbf,-0x9a,-0x86)],'width':_0x5c9b72?_0x5c9b72:_0x18a2c9[_0x20996a(-0xf5,-0x172,-0x3e,-0xcc)],'height':_0x5b658c?_0x5b658c:_0x18a2c9['sd_cheight'],'restore_faces':_0x590a0a['TEhbG'](_0x18a2c9['restoreFac'+'es'],_0x20996a(-0xf1,-0x4b,-0x46,-0xd7)),'enable_hr':_0x590a0a[_0x20996a(-0x68,0x15,-0x56,-0x7e)](_0x18a2c9[_0x4d6296(0xe7,0x185,0x15b,0x1f7)+_0x4d6296(0x278,0x28e,0x23d,0x2c6)],_0x590a0a['wqAQH']),'hr_upscaler':_0x18a2c9[_0x20996a(-0x198,-0x101,-0x11c,-0x159)+_0x4d6296(0x1fe,0x2b4,0x229,0x20e)],'hr_scale':_0x18a2c9[_0x4d6296(0x17f,0x268,0x20f,0x273)+_0x4d6296(0x1cf,0x127,0x1ac,0x1a6)],'hr_additional_modules':[],'denoising_strength':_0x18a2c9[_0x20996a(-0x11e,-0x15,-0x25,-0x7d)+_0x20996a(-0xda,-0xba,-0x122,-0xae)+'th'],'hr_second_pass_steps':_0x18a2c9[_0x4d6296(0xd8,0x1a8,0x15b,0x129)+'steps'],'seed':_0x562b54,'override_settings':{'CLIP_stop_at_last_layers':_0x590a0a[_0x20996a(-0xf2,0x1e,-0xf0,-0x8a)](Number,_0x18a2c9[_0x20996a(0x4,-0xb6,-0x3a,-0x45)+'kip']),'sd_vae':_0x18a2c9[_0x20996a(-0xd8,-0x1e7,-0x1eb,-0x159)+_0x4d6296(0x1ff,0x1ea,0x27e,0x2b2)]},'override_settings_restore_afterwards':!![],'save_images':!![],'send_images':!![],'do_not_save_grid':![],'do_not_save_samples':![]};_0x590a0a[_0x4d6296(0x261,0x28c,0x215,0x182)](addLog,_0x20996a(-0xdb,-0x130,-0x1c1,-0x13b)+_0x4d6296(0x2c2,0x255,0x25e,0x1e9)+_0x3fa2df[_0x4d6296(0x1ec,0xfb,0x14a,0xb3)+_0x4d6296(0x26c,0x28c,0x1f4,0x184)]),_0x590a0a[_0x20996a(-0x169,-0x1ba,-0x167,-0x11f)](addLog,_0x20996a(-0x10b,-0x16d,-0x63,-0xc5)+_0x20996a(-0x1aa,-0x197,-0x1f2,-0x153)+_0x3fa2df[_0x20996a(-0x6a,-0xa6,-0x129,-0xbe)]);if(_0x590a0a['TEhbG'](_0x18a2c9[_0x4d6296(0x210,0x2e7,0x277,0x31b)+_0x4d6296(0x1c1,0x125,0x160,0x16f)],_0x590a0a[_0x20996a(-0x60,-0x3c,-0x78,-0xc6)])){if(_0x590a0a[_0x20996a(-0xba,-0x187,-0x139,-0xda)](_0x590a0a[_0x20996a(-0xe2,-0xd7,-0x1a4,-0xf5)],_0x4d6296(0x155,0x213,0x1cc,0x24d)))_0x4180ca=_0x590a0a['BLWGj'](_0x590a0a['HmlfL'](_0x224bba,',\x20'),_0xa37e0d['Character\x20'+_0x3ce149+'\x20Prompt']);else{_0x590a0a[_0x4d6296(0xbe,0x211,0x169,0x1ff)](addLog,_0x590a0a[_0x4d6296(0xe4,0x138,0x123,0x13a)]);const _0x3aa959={};_0x3aa959['ad_model']=_0x590a0a['Brmii'];const _0x30d6a4={};_0x30d6a4[_0x4d6296(0x1c6,0x1bc,0x22f,0x262)]=[!![],!![],_0x3aa959];const _0x2855ce={};_0x2855ce[_0x20996a(-0x49,0x41,0x13,-0x31)]=_0x30d6a4;const _0x1bb218={};_0x1bb218['alwayson_s'+_0x4d6296(0x8c,0xd4,0x13b,0x10e)]=_0x2855ce,_0x3fa2df=deepMerge(_0x3fa2df,_0x1bb218);}}const _0x11897a=_0x20996a(-0x6d,-0x1b3,-0x145,-0x10d)+_0x20996a(-0x9f,-0xb8,-0xb9,-0x10)+'正面提示\x20(Prom'+_0x4d6296(0x1be,0x1ed,0x19f,0x112)+_0x1058bc+(_0x4d6296(0x150,0xd5,0x176,0x1df)+_0x20996a(-0x6d,-0xd2,-0x5b,-0x60)+_0x4d6296(0x1aa,0x16b,0x163,0xeb)+'\x20')+_0x4a6ddf+(_0x20996a(0x2a,-0x9a,-0x74,-0x82)+'(Sampler):'+'**\x20')+_0x3fa2df[_0x4d6296(0x23c,0x209,0x198,0x174)+'me']+(_0x4d6296(0x249,0x1aa,0x1a9,0x16c)+_0x4d6296(0x1fc,0x1f1,0x261,0x243))+_0x3fa2df['steps']+('\x0a-\x20**CFG\x20S'+_0x4d6296(0x25a,0x1c9,0x1b8,0x16b))+_0x3fa2df['cfg_scale']+(_0x4d6296(0x7d,0x156,0x124,0x180)+_0x20996a(-0x200,-0x1a9,-0x118,-0x164))+_0x3fa2df[_0x4d6296(0x177,0x14c,0x1de,0x1b9)]+'x'+_0x3fa2df[_0x20996a(-0x12,-0xc0,-0x2c,-0xa3)]+(_0x20996a(-0x178,-0x1dd,-0xad,-0x15a)+_0x4d6296(0x17f,0x1c6,0x20b,0x176))+(_0x590a0a[_0x4d6296(0x215,0x2c4,0x26c,0x200)](_0x3fa2df[_0x4d6296(0x119,0xcd,0x15f,0x173)],-(-0x2*0x10ba+0x2*-0x827+0x1*0x31c3))?_0x590a0a['eJqYW']:_0x3fa2df['seed'])+('\x0a-\x20**模型\x20(M'+_0x4d6296(0xd8,0xaf,0x159,0xde))+_0x18a2c9[_0x20996a(-0x158,-0x10a,-0xe0,-0x159)+_0x4d6296(0x246,0x1a6,0x204,0x272)]+(_0x4d6296(0x256,0x14c,0x1ca,0x1fe)+'*\x20')+_0x3fa2df['override_s'+_0x20996a(-0x132,-0xbf,-0x137,-0x133)][_0x20996a(-0x10c,-0x1c2,-0x7f,-0x12f)]+(_0x20996a(-0x98,-0xcc,-0x18,-0x87)+_0x20996a(-0x11c,-0x19e,-0x205,-0x163))+_0x3fa2df[_0x4d6296(0x11b,0xcf,0x17a,0x10d)+_0x20996a(-0x136,-0x100,-0x181,-0x133)]['CLIP_stop_'+'at_last_la'+_0x20996a(-0x12c,-0x144,-0x76,-0x120)]+(_0x20996a(-0x114,-0x20,-0xee,-0xbd)+_0x20996a(-0xb9,-0xf8,-0x66,-0x62)+'):**\x20')+_0x3fa2df[_0x20996a(-0x13f,-0x151,-0x9c,-0xbe)]+(_0x4d6296(0x17f,0x292,0x20c,0x277)+_0x4d6296(0x206,0x230,0x1a4,0xff)+_0x20996a(0x43,-0x1f,-0xa1,-0x66))+_0x3fa2df[_0x4d6296(0x24a,0x317,0x26f,0x2e8)]+(_0x20996a(-0x103,-0x80,-0x16c,-0x107)+'(Denoising'+'\x20Strength)'+_0x20996a(-0xb9,-0x18f,-0x117,-0x104))+_0x3fa2df[_0x4d6296(0x27f,0x24a,0x214,0x1a0)+_0x4d6296(0x13b,0x1dd,0x180,0x194)]+(_0x20996a(-0xb7,-0xe8,-0xc,-0x75)+_0x20996a(-0x6e,-0x16e,-0x173,-0xd1)+'aces):**\x20')+_0x3fa2df['restore_fa'+_0x20996a(-0xb9,0x12,-0xb6,-0x91)]+(_0x20996a(-0xd9,-0x99,-0x51,-0x2c)+_0x20996a(-0x3d,0xa,-0x16,-0x77))+_0x590a0a[_0x20996a(-0xd9,-0xf1,-0xb1,-0x7e)](_0x18a2c9[_0x20996a(-0x54,0x90,0x6c,-0xe)+_0x4d6296(0x151,0xc6,0x160,0x185)],_0x590a0a[_0x4d6296(0x17e,0x158,0x1bf,0x204)])+_0x20996a(-0x49,-0x53,0x79,-0x22);addLog(_0x11897a),_0x590a0a[_0x4d6296(0x1b3,0x21e,0x248,0x2b2)](addLog,_0x4d6296(0xfc,0x15c,0x174,0x1f8)+'数为'+JSON[_0x20996a(-0xcf,-0x74,-0x9f,-0x112)](_0x3fa2df)),console[_0x4d6296(0x1ed,0x1da,0x1f3,0x1a9)](_0x4d6296(0x18b,0x27e,0x1e3,0x27b),_0x3fa2df);let _0x1d0e57=!![];while(_0x1d0e57){if(window[_0x20996a(-0x132,-0x147,-0x12,-0x9c)]){if(_0x590a0a['WMyLc'](_0x590a0a[_0x4d6296(0x2c9,0x1bb,0x247,0x27b)],_0x590a0a['dzwve']))_0x1d0e57=![];else return _0xa1440e['toString']()['search'](GFZoQc['COsMc'])[_0x20996a(-0x45,-0x20,0x8e,-0xb)]()[_0x20996a(-0x1ef,-0x138,-0xee,-0x145)+'r'](_0x498879)[_0x20996a(0x11,0x7b,-0x74,-0x1b)](GFZoQc[_0x20996a(-0xa2,-0x40,-0x48,-0x7f)]);}else await _0x590a0a[_0x20996a(-0x17c,-0x192,-0x148,-0x11c)](sleep,0x2585+-0xca5+-0x14f8*0x1);};try{if(_0x590a0a[_0x20996a(0x1c,0x20,0x25,-0x19)](_0x590a0a[_0x4d6296(0x1c8,0x21a,0x1e0,0x154)],_0x590a0a[_0x20996a(-0x43,-0x71,0x4d,-0x26)]))_0x1c7bd2(_0x590a0a[_0x4d6296(0x17a,0x1d9,0x191,0x12d)]),_0x483595=_0x11563e;else{if(_0x590a0a[_0x4d6296(0x16a,0x1e3,0x1aa,0x171)](_0x18a2c9[_0x4d6296(0x25c,0x266,0x24d,0x26d)],_0x590a0a[_0x20996a(-0x85,-0x119,-0xa0,-0x9b)])){if(_0x590a0a[_0x4d6296(0x1d0,0x292,0x22a,0x220)]===_0x590a0a[_0x20996a(-0x88,0x24,-0x89,-0x8)])_0x34da1c[_0x20996a(-0x108,-0x99,-0x161,-0xe7)+_0x4d6296(0x238,0x2c9,0x25d,0x2f6)]&&(_0x245b8e[_0x4d6296(0x18a,0xbf,0x12a,0x18f)+'ener'](_0x2fa178[_0x4d6296(0x17e,0x2a0,0x21d,0x296)+'MAGE_REQUE'+'ST'],_0x1cc2a5),_0x20832b[_0x20996a(-0xdf,-0x181,-0x125,-0xe7)+'SDListener']=![],_0x590a0a[_0x4d6296(0x2da,0x23f,0x25b,0x2ba)](_0x5d42fd,_0x4d6296(0x1d7,0x180,0x14f,0xc2)+_0x4d6296(0x110,0x13d,0x13d,0xaa)));else{_0x3fa2df[_0x20996a(-0xf1,0x3c,-0x8,-0x4f)]=_0x154585,console[_0x4d6296(0x1c6,0x16e,0x1f3,0x1be)](_0x590a0a[_0x20996a(-0x153,-0x1a2,-0x186,-0x13c)],_0x18a2c9[_0x4d6296(0x20d,0x25e,0x1b2,0x1c5)+'sd_auth']),_0x3fa2df[_0x4d6296(0x1b0,0x178,0x1fd,0x292)]=_0x18a2c9[_0x4d6296(0x145,0x220,0x1b2,0x172)+_0x20996a(-0xa1,0x1b,-0x17,-0x8f)]?_0x18a2c9[_0x4d6296(0x1cb,0x19a,0x1b2,0x130)+_0x20996a(-0x124,-0x103,-0x3a,-0x8f)]:'';const _0x954c5a=await fetch(_0x590a0a[_0x4d6296(0x1c5,0xc2,0x143,0xff)],{'method':_0x590a0a[_0x4d6296(0x1be,0x251,0x23c,0x269)],'headers':_0x590a0a[_0x20996a(-0x6b,-0xb5,-0x61,-0xfb)](getRequestHeaders,window['token']),'body':JSON[_0x20996a(-0x74,-0x121,-0x142,-0x112)](_0x3fa2df)});if(!_0x954c5a['ok']){const _0x4fdcc1=await _0x954c5a[_0x20996a(-0x100,-0x71,-0xda,-0xd0)]();addLog(_0x20996a(-0x32,0x54,-0x2d,-0x4a)+_0x4d6296(0x14c,0x14b,0x1af,0x222)+_0x954c5a[_0x4d6296(0x1ee,0x1c1,0x170,0x14e)]+_0x20996a(-0xc4,-0xec,-0xcc,-0x11e)+_0x4fdcc1),console[_0x4d6296(0x17e,0x1b4,0x1f3,0x1a2)](_0x590a0a[_0x20996a(-0x35,-0xe3,-0x12c,-0x97)],_0x4fdcc1);throw new Error(_0x20996a(-0x88,-0xb,0x3b,-0x63)+_0x954c5a['status']+_0x20996a(-0x59,-0x48,-0x67,-0x47)+_0x4fdcc1);}const _0x442757=await _0x954c5a[_0x20996a(-0x115,-0xbf,-0x89,-0xd0)]();let _0x42dacf='';try{const _0x2be487=JSON['parse'](_0x442757);_0x42dacf=_0x2be487[_0x20996a(-0x46,0x5d,-0x72,-0x42)][0x619*0x2+0x1289+-0x1*0x1ebb];}catch(_0x315bf0){addLog(_0x4d6296(0x1ac,0x1db,0x184,0x176)+_0x20996a(-0x6f,-0x1,0x50,-0x51)+_0x20996a(-0x1f1,-0x130,-0x1f6,-0x15c)),_0x42dacf=_0x442757;}const _0x21bcae=_0x590a0a[_0x20996a(0x43,0x2f,0x61,-0x1e)](_0x590a0a['yIRCz'],_0x42dacf);return _0x590a0a[_0x20996a(-0x89,-0xb3,-0x54,-0x3d)](addLog,_0x590a0a[_0x20996a(-0x33,-0x87,-0x5c,-0x6d)]),{'image':_0x21bcae,'change':_0x590a0a['OlIpV'](_0xc5148b,'')};}}else{const _0x3c9e40=new URL(_0x154585+_0x590a0a[_0x20996a(0x14,0x39,-0xb6,-0x6f)]);window[_0x20996a(-0x9c,-0x4b,-0xe7,-0x9c)]=![];const _0x59c3df=await _0x590a0a[_0x20996a(-0x82,-0x9a,-0xba,-0xb1)](fetch,_0x3c9e40,{'method':_0x590a0a[_0x20996a(0x25,-0x68,-0xa,-0x49)],'body':JSON[_0x20996a(-0x116,-0x158,-0x1ab,-0x112)](_0x3fa2df),'headers':{'Content-Type':_0x590a0a[_0x4d6296(0x126,0x184,0x153,0x12f)],'Authorization':_0x590a0a[_0x20996a(-0x83,-0x1c,0x3,-0x2e)](getsdAuth)}});window[_0x20996a(-0xa3,-0x110,-0x105,-0x9c)]=!![];if(!_0x59c3df['ok']){const _0x33d4e5=await _0x59c3df[_0x4d6296(0x1cf,0x11f,0x1b5,0x1b7)]();_0x590a0a[_0x4d6296(0x1d6,0x23c,0x272,0x21a)](addLog,_0x20996a(-0x13b,-0x116,-0x164,-0xec)+_0x20996a(-0x9a,-0xcf,-0xdf,-0x3a)+_0x59c3df[_0x4d6296(0x118,0x1df,0x170,0x128)]+_0x20996a(-0x195,-0xca,-0x158,-0x11e)+_0x33d4e5),console['log'](_0x590a0a['hKtRH'],_0x33d4e5);throw new Error(_0x20996a(0x42,-0x14,-0x3c,-0x63)+_0x59c3df[_0x20996a(-0xde,-0x139,-0x91,-0x115)]+_0x4d6296(0x271,0x28b,0x23e,0x1b9)+_0x33d4e5);}const _0x3fabff=await _0x59c3df['json']();if(!_0x3fabff['images']||_0x590a0a['hrEiI'](_0x3fabff[_0x4d6296(0x2ec,0x1e5,0x243,0x286)][_0x4d6296(0x190,0x223,0x1ad,0x198)],0xfa9+-0x1*0xf1+-0x4*0x3ae))throw new Error(_0x590a0a[_0x4d6296(0x154,0xbe,0x16b,0x14f)]);const _0x21852c=_0x3fabff['images'][0x2*-0x74f+0x12e2+-0x444],_0x5e1b54=_0x590a0a['BLWGj'](_0x590a0a[_0x20996a(0x1c,0x3b,-0x7d,-0x54)],_0x21852c);_0x590a0a['LmORx'](addLog,_0x20996a(-0x14f,-0x3d,-0xb6,-0xb7)+_0x20996a(-0x4a,-0x1b,-0x4c,-0x44)+'L。');const _0x19ec16={};return _0x19ec16[_0x4d6296(0x1e2,0x1d3,0x217,0x25b)]=_0x5e1b54,_0x19ec16[_0x4d6296(0x19a,0xd5,0x138,0x179)]=_0x546652||'',_0x19ec16;}}}catch(_0x243186){window[_0x20996a(-0x5,-0x48,-0x9d,-0x9c)]=!![],_0x590a0a[_0x4d6296(0x1bd,0x235,0x1b1,0x257)](addLog,_0x4d6296(0x197,0x18f,0x125,0x169)+_0x243186['message']),console[_0x4d6296(0x295,0x2eb,0x265,0x1e7)](_0x590a0a[_0x20996a(-0x1af,-0x182,-0x169,-0x158)],_0x243186);throw _0x243186;}}async function sdGenerate(_0x3d9980){function _0x1c6a1b(_0x53e4ad,_0x23e490,_0x198a5a,_0x52c4ad){return _0x2222(_0x198a5a- -0x3b8,_0x52c4ad);}const _0xfd311e={'xWrvY':function(_0x366f7b,_0x46dc4f){return _0x366f7b(_0x46dc4f);},'uNDsO':function(_0x270c3d){return _0x270c3d();},'FtRuG':function(_0xd14d13,_0x4e4e73){return _0xd14d13+_0x4e4e73;},'HgNqu':function(_0x36d433,_0x375dcc){return _0x36d433+_0x375dcc;},'sjpFk':function(_0x2fae7e,_0x54d2dd){return _0x2fae7e(_0x54d2dd);},'LkSOy':_0x5849e7(0x159,0xff,0x116,0x135),'qvykG':function(_0x28ef3e,_0x569126){return _0x28ef3e!==_0x569126;},'ZTBzt':'NfWRV','xvyQX':_0x5849e7(0x173,0x18a,0x1b3,0x18e),'VQluW':'cKeju','ASnzp':function(_0x2277fe,_0x2b3ac4,_0xca7b3d,_0x370fbf){return _0x2277fe(_0x2b3ac4,_0xca7b3d,_0x370fbf);},'tobEj':function(_0x9784e7,_0x5a651b){return _0x9784e7!==_0x5a651b;},'CWvah':'XrRlh','eBKIk':function(_0x185d38,_0x1b57b0){return _0x185d38(_0x1b57b0);},'buRVZ':_0x5849e7(0x57,0xb7,0x190,0xf2),'pvtUU':function(_0x3d2f5b,_0x33ed80){return _0x3d2f5b(_0x33ed80);},'fqWSW':_0x5849e7(0x145,0x1cf,0x16c,0x164)+_0x5849e7(0x249,0x2ac,0x19c,0x20e)+_0x1c6a1b(-0x2f8,-0x2b8,-0x315,-0x3b0)},{id:_0x192a93,prompt:_0x4ffe67,width:_0x2bd0dc,height:_0x246545,change:_0x39513b}=_0x3d9980;function _0x5849e7(_0x22c26c,_0x5c1475,_0xe59dc9,_0x2737e2){return _0x2222(_0x2737e2-0x47,_0x5c1475);}_0xfd311e[_0x5849e7(0x5c,0x14a,0x165,0xe2)](addLog,_0x5849e7(0x168,0x113,0xbf,0xf3)+_0x1c6a1b(-0x292,-0x2da,-0x2fb,-0x262)+_0x192a93+(_0x5849e7(0x1bd,0x237,0x17c,0x206)+':\x20')+_0x4ffe67+(_0x39513b?_0x1c6a1b(-0x2ee,-0x286,-0x2fd,-0x2c0)+'\x20'+_0x39513b:''));if(_0x39513b&&_0x39513b['includes'](_0xfd311e[_0x5849e7(0x282,0x1b4,0x2a1,0x1fe)])){_0xfd311e[_0x5849e7(0x83,0x129,0xc8,0xe2)](bananaGenerate,_0x3d9980);return;}try{if(_0xfd311e['qvykG'](_0xfd311e[_0x5849e7(0xbb,0xc6,0x125,0x157)],_0xfd311e[_0x5849e7(0x255,0x1b7,0x248,0x1db)])){const {image:_0x3bb149,change:_0x55dff4}=await generateSDImage({'prompt':_0x4ffe67,'width':_0x2bd0dc,'height':_0x246545,'change':_0x39513b});if(extension_settings[extensionName][_0x5849e7(0x154,0x147,0x220,0x1f5)]!='0'){if(_0xfd311e[_0x5849e7(0xdc,0x145,0x9c,0x106)](_0xfd311e[_0x5849e7(0x141,0x178,0x140,0xe9)],'vLakj')){const _0x5355c0={};_0x5355c0[_0x5849e7(0xb4,0x6d,0xd3,0xcd)]=_0x55dff4,await _0xfd311e[_0x5849e7(0xfa,0x35,0x163,0xd6)](setItemImg,_0x4ffe67,_0x3bb149,_0x5355c0),addLog(_0x1c6a1b(-0x264,-0x244,-0x1f6,-0x293)+'or\x20prompt:'+'\x20'+_0x4ffe67);}else{_0xfd311e['xWrvY'](_0x4d83dc,_0x1c6a1b(-0x330,-0x2e6,-0x343,-0x2da)+_0x141e74['status']+'\x20'+_0x518787['statusText']);throw new _0x5aac22('获取模型失败:\x20'+_0x1590ff[_0x1c6a1b(-0x32d,-0x2cd,-0x2fa,-0x2a4)]+'\x20'+_0x41df12['statusText']);}}else _0xfd311e[_0x1c6a1b(-0x1da,-0x207,-0x249,-0x23d)](_0xfd311e[_0x5849e7(0x3b,0x142,0x12e,0xca)],_0x1c6a1b(-0x24b,-0x24f,-0x243,-0x25f))?_0xfd311e[_0x5849e7(0x179,0x20d,0x1ac,0x205)](addLog,_0x1c6a1b(-0x38a,-0x33a,-0x319,-0x37e)+'库'):_0x4ef142=![];const _0x3cb83f={};_0x3cb83f['id']=_0x192a93,_0x3cb83f[_0x5849e7(0x11b,0xef,0x183,0x167)]=!![],_0x3cb83f[_0x5849e7(0x1fc,0x1ae,0x251,0x211)]=_0x3bb149,_0x3cb83f[_0x5849e7(0xf7,0x67,0x7c,0xf7)]=_0x4ffe67,_0x3cb83f[_0x1c6a1b(-0x32b,-0x3cd,-0x332,-0x3c5)]=_0x55dff4,eventSource[_0x5849e7(0xf0,0x172,0xf6,0x10e)](EventType[_0x5849e7(0x157,0x13f,0x183,0x1b2)+'MAGE_RESPO'+_0x5849e7(0x257,0x28c,0x20f,0x1e7)],_0x3cb83f),_0xfd311e['sjpFk'](addLog,_0x5849e7(0x167,0x2ae,0x151,0x200)+_0x1c6a1b(-0x34d,-0x31b,-0x2f8,-0x297)+_0x192a93+')');}else _0x2ee27e['initialize'+_0x1c6a1b(-0x164,-0x221,-0x20d,-0x23e)]=!![],_0xfd311e[_0x5849e7(0xf6,0x136,0x1b5,0x17d)](_0x5aedd1);}catch(_0x301189){if(_0xfd311e[_0x5849e7(0x109,0x112,0x142,0xed)]===_0xfd311e[_0x1c6a1b(-0x2da,-0x382,-0x312,-0x2e8)]){const _0xcb4a1e=_0x5849e7(0x12d,0x199,0x16b,0x15e)+'常\x20(ID:\x20'+_0x192a93+_0x1c6a1b(-0x2ba,-0x2e6,-0x32b,-0x2b3)+_0x301189[_0x5849e7(0x14b,0x10c,0x9e,0x103)];_0xfd311e['pvtUU'](addLog,_0x1c6a1b(-0x22c,-0x21a,-0x26e,-0x1e2)+_0xcb4a1e),console[_0x5849e7(0x224,0x188,0x275,0x1fa)](_0xfd311e[_0x1c6a1b(-0x340,-0x381,-0x324,-0x3d0)],_0x301189);const _0x227a43={};_0x227a43['id']=_0x192a93,_0x227a43['success']=![],_0x227a43['error']=_0x301189[_0x1c6a1b(-0x294,-0x373,-0x2fc,-0x29a)],_0x227a43[_0x5849e7(0x137,0x17c,0x1a4,0xf7)]=_0x4ffe67,eventSource['emit'](EventType[_0x1c6a1b(-0x1d3,-0x1a2,-0x24d,-0x2c5)+_0x5849e7(0x13b,0x1ff,0x17d,0x1e8)+_0x1c6a1b(-0x193,-0x271,-0x218,-0x24a)],_0x227a43),addLog(_0x1c6a1b(-0x284,-0x249,-0x27e,-0x22b)+_0x5849e7(0x153,0x66,0x1b6,0x107)+_0x192a93+')');}else _0x1debec[_0x1c6a1b(-0x1ec,-0x201,-0x285,-0x2eb)+_0x136618+_0x5849e7(0x146,0x19e,0x247,0x1e1)]&&(_0x5aa5fc=_0xfd311e['FtRuG'](_0xfd311e[_0x5849e7(0x1f7,0x137,0xdf,0x16a)](_0x46b278,',\x20'),_0x20e882[_0x1c6a1b(-0x28a,-0x2e3,-0x285,-0x28f)+_0x4b2507+_0x5849e7(0x18b,0x287,0x1cb,0x1e1)]));}}function initializeSDListener(){function _0xa9f5e0(_0x2a7bcd,_0x2d9c72,_0x2f81de,_0x30df00){return _0x2222(_0x2d9c72-0x279,_0x2a7bcd);}function _0x16415f(_0x2bc962,_0x2e6e30,_0x1a70f0,_0x4881b9){return _0x2222(_0x1a70f0-0x297,_0x2e6e30);}const _0x28ae77={'yhrab':function(_0x36877f,_0x5f4827){return _0x36877f(_0x5f4827);},'Zooua':_0x16415f(0x34b,0x3cd,0x334,0x2ed)+_0x16415f(0x406,0x3ff,0x41e,0x42d)};eventSource['on'](EventType[_0x16415f(0x419,0x4a7,0x402,0x409)+_0xa9f5e0(0x455,0x3a8,0x38c,0x383)+'ST'],sdGenerate),_0x28ae77[_0x16415f(0x38b,0x382,0x412,0x427)](addLog,_0x28ae77['Zooua']);}function _0x2222(_0x4ac7e5,_0x11bdfb){const _0x5c26ec=_0x1e62();return _0x2222=function(_0x1fc088,_0x2485fc){_0x1fc088=_0x1fc088-(-0x436*0x3+-0x5*-0x3b7+-0x583);let _0x2a853c=_0x5c26ec[_0x1fc088];if(_0x2222['qyrwED']===undefined){var _0x25f8d8=function(_0x1850d6){const _0x4cc19a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x248242='',_0x29e86b='',_0x3cbb93=_0x248242+_0x25f8d8;for(let _0x33ba87=0x8f*0x37+0x2ba+-0x2173*0x1,_0x3aa41d,_0x90e72b,_0x3ec0ac=-0xb*0x33f+-0x7*0x2f9+-0x4*-0xe21;_0x90e72b=_0x1850d6['charAt'](_0x3ec0ac++);~_0x90e72b&&(_0x3aa41d=_0x33ba87%(0x1*-0xe31+-0x17*-0x2+0xe07)?_0x3aa41d*(-0x2669+-0x1b45+0x41ee)+_0x90e72b:_0x90e72b,_0x33ba87++%(-0xa64+-0x3*0x72d+0xf*0x221))?_0x248242+=_0x3cbb93['charCodeAt'](_0x3ec0ac+(-0x778+0x2105+-0x1983))-(0x1e0f+0x249b+-0x1*0x42a0)!==0x19f3+-0x63d+0x1*-0x13b6?String['fromCharCode'](0x89*0x1+0x4b4+-0x43e&_0x3aa41d>>(-(-0x5*-0x4d+-0x19d9+-0x40f*-0x6)*_0x33ba87&-0x13d*0x1c+0x10*-0x22+0x24d2*0x1)):_0x33ba87:0x23f9+0x1f7e+-0x4377){_0x90e72b=_0x4cc19a['indexOf'](_0x90e72b);}for(let _0x2a5702=0x1132+0x11*0x159+-0x281b*0x1,_0x15954c=_0x248242['length'];_0x2a5702<_0x15954c;_0x2a5702++){_0x29e86b+='%'+('00'+_0x248242['charCodeAt'](_0x2a5702)['toString'](0x311*0xa+0xeb*0x13+-0x300b))['slice'](-(0x3dd*-0x6+0x37a*0x2+-0x2*-0x81e));}return decodeURIComponent(_0x29e86b);};_0x2222['klGJfM']=_0x25f8d8,_0x4ac7e5=arguments,_0x2222['qyrwED']=!![];}const _0x3eff4c=_0x5c26ec[0x167f+0x1ddf*0x1+-0x2*0x1a2f],_0x536e19=_0x1fc088+_0x3eff4c,_0x5cc30f=_0x4ac7e5[_0x536e19];if(!_0x5cc30f){const _0x3eeecc=function(_0x5b9e71){this['tGpcMy']=_0x5b9e71,this['fjxoDW']=[-0x1eb3+0x1*0xacf+0x13e5,0x1417+-0x18de+0x4c7*0x1,-0xd*0x43+-0xf64+0x11*0x11b],this['ZXfnRG']=function(){return'newState';},this['fRzKhY']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['eyJsEN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3eeecc['prototype']['GlRVTR']=function(){const _0x4d83dc=new RegExp(this['fRzKhY']+this['eyJsEN']),_0x141e74=_0x4d83dc['test'](this['ZXfnRG']['toString']())?--this['fjxoDW'][-0xc59+0x2d*0x57+-0x2f1]:--this['fjxoDW'][-0x502+-0x18d5+0x1dd7];return this['VYFrlR'](_0x141e74);},_0x3eeecc['prototype']['VYFrlR']=function(_0x518787){if(!Boolean(~_0x518787))return _0x518787;return this['rFxhNz'](this['tGpcMy']);},_0x3eeecc['prototype']['rFxhNz']=function(_0x5aac22){for(let _0x1590ff=-0x1*-0x1139+-0x5*-0x3b9+-0x23d6,_0x41df12=this['fjxoDW']['length'];_0x1590ff<_0x41df12;_0x1590ff++){this['fjxoDW']['push'](Math['round'](Math['random']())),_0x41df12=this['fjxoDW']['length'];}return _0x5aac22(this['fjxoDW'][-0x94*0xf+-0x13*-0x11b+0xb*-0x11f]);},new _0x3eeecc(_0x2222)['GlRVTR'](),_0x2a853c=_0x2222['klGJfM'](_0x2a853c),_0x4ac7e5[_0x536e19]=_0x2a853c;}else _0x2a853c=_0x5cc30f;return _0x2a853c;},_0x2222(_0x4ac7e5,_0x11bdfb);}export async function replaceWithSd(){function _0x4744e4(_0x1f9e38,_0x4b8705,_0x4c44dd,_0x5478c9){return _0x2222(_0x4b8705-0x60,_0x4c44dd);}function _0x347554(_0x356adc,_0x5a5057,_0x351ec3,_0x3baeb4){return _0x2222(_0x351ec3-0x37e,_0x5a5057);}const _0x144fa8={'FUuOv':_0x347554(0x49a,0x488,0x49b,0x50d)+_0x347554(0x4f9,0x4fb,0x545,0x5d6)+_0x4744e4(0xca,0x103,0xfb,0xd2),'jICkH':function(_0x674b6d,_0x41442a){return _0x674b6d(_0x41442a);},'SaOTO':function(_0x20eaf3,_0x1d9717){return _0x20eaf3==_0x1d9717;},'TBMLC':function(_0x55fc9e,_0xfd9c45){return _0x55fc9e!==_0xfd9c45;},'ONPIp':'dured','MScFd':function(_0x2f10e9){return _0x2f10e9();},'tBIem':function(_0x2d6b81){return _0x2d6b81();},'yTHpL':_0x4744e4(0x19b,0x140,0xdd,0x10e),'tsyJF':function(_0x4eb4fb,_0x575573){return _0x4eb4fb(_0x575573);},'RQkHD':_0x4744e4(0xbd,0xfd,0x115,0x192)+_0x4744e4(0x17a,0xeb,0x158,0x188)};if(_0x144fa8[_0x347554(0x3e5,0x43d,0x452,0x3c1)](extension_settings[extensionName][_0x347554(0x4d0,0x491,0x461,0x495)],'sd')){if(!window[_0x4744e4(0x148,0x14c,0xb2,0x1c1)+'SDListener']){if(_0x144fa8[_0x347554(0x57a,0x511,0x4e8,0x47d)](_0x347554(0x3d9,0x41f,0x44f,0x4bd),_0x144fa8[_0x347554(0x50e,0x447,0x4ce,0x506)]))window[_0x347554(0x3ca,0x50e,0x46a,0x4c7)+_0x4744e4(0x17b,0x20b,0x28b,0x1dd)]=!![],_0x144fa8[_0x4744e4(0x105,0x17e,0x1ad,0x122)](initializeSDListener);else{const _0x511362=_0x347554(0x4c8,0x527,0x495,0x530)+_0x347554(0x4b7,0x478,0x47f,0x407)+_0xf8f15e+_0x347554(0x3a1,0x375,0x40b,0x3be)+_0x43d16b[_0x347554(0x44f,0x4cc,0x43a,0x3a2)];_0x32f5f7(_0x4744e4(0x248,0x1aa,0x1e6,0x1c6)+_0x511362),_0x505d52[_0x4744e4(0x21f,0x213,0x1ba,0x1ec)](_0x144fa8[_0x4744e4(0x163,0x1f0,0x141,0x25e)],_0x54bbf4);const _0x1a9fb8={};_0x1a9fb8['id']=_0x5ddd5e,_0x1a9fb8[_0x347554(0x4a9,0x482,0x49e,0x54d)]=![],_0x1a9fb8[_0x4744e4(0x22a,0x213,0x28e,0x1dc)]=_0x4c5586[_0x4744e4(0x146,0x11c,0x146,0xf4)],_0x1a9fb8['prompt']=_0x8e6afb,_0x5b7932[_0x347554(0x3bb,0x401,0x445,0x476)](_0x6686e6['GENERATE_I'+_0x347554(0x564,0x54c,0x51f,0x53f)+_0x347554(0x582,0x512,0x51e,0x4e5)],_0x1a9fb8),_0x144fa8[_0x347554(0x5a0,0x50c,0x532,0x5a2)](_0x300b04,_0x4744e4(0x1a6,0x19a,0x1a7,0x1d7)+'\x20(ID:\x20'+_0x3d49d7+')');}}_0x144fa8[_0x4744e4(0x174,0x156,0xa9,0x14a)](initializeImageProcessing);}else window[_0x347554(0x4a3,0x484,0x46a,0x428)+_0x4744e4(0x251,0x20b,0x1e6,0x166)]&&(_0x144fa8[_0x347554(0x508,0x524,0x539,0x5bb)]===_0x347554(0x4d0,0x504,0x488,0x430)?_0x30578b=!![]:(eventSource[_0x347554(0x387,0x3e5,0x3f6,0x3ab)+_0x4744e4(0x155,0x1c0,0x123,0x185)](EventType[_0x4744e4(0x19a,0x1cb,0x197,0x176)+_0x347554(0x4c6,0x497,0x4ad,0x407)+'ST'],sdGenerate),window[_0x347554(0x422,0x3f1,0x46a,0x471)+_0x347554(0x5d0,0x4f2,0x529,0x4e6)]=![],_0x144fa8[_0x347554(0x516,0x43f,0x4ec,0x463)](addLog,_0x144fa8[_0x4744e4(0x1f7,0x173,0x1e7,0x136)])));}
//# sourceMappingURL=http://localhost:8000/sd.js.map